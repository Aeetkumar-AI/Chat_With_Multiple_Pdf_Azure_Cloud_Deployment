def agentic_chunking(text):
    system_message = SystemMessage(
        content=(
            "You are an AI assistant that splits Markdown documents into clean, "
            "semantic, hierarchical chunks. The output should be a list of chunks."
        )
    )

    human_prompt = f"""
Split the following Markdown document into meaningful chunks.

### STRICT RULES FOR CHUNKING

1. *Every chunk must begin with the Markdown heading that defines it*  
   - Example: # Section 1, ## Subsection, ### Topic, etc.
2. *Chunk boundaries MUST follow Markdown hierarchy*  
   - A # starts a major new chunk  
   - A ## starts a sub-chunk  
   - A ### or below stays inside its parent section
3. *Do NOT rewrite or modify content*  
   - Keep text EXACT as it is  
   - Preserve bullets, bold, tables, images, base64, formatting
4. *Do NOT summarize* – only slice text smartly
5. *Merge extremely small lines (< 2–3 lines) into their parent chunk*
6. **If the document begins with metadata/title (bold lines like **Title**) → treat that as Chunk 0**

### OUTPUT FORMAT (VERY IMPORTANT)
Return chunks EXACTLY like this (with a blank line between them):
